<!-- Tournament Bracket and Results -->
<div class="bg-white p-4 rounded-lg shadow-sm mb-8">
    <div class="flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6">
        <h1 class="text-xl font-semibold">{{format.value}}</h1>
        
        <!-- Stage/Group Filter Dropdown -->
        
        {% if has_group_stage %}
        <div class="w-full lg:max-w-xs">
            <label for="stage-filter" class="block text-sm font-medium text-gray-700 mb-1">Filter by Group</label>
            <select id="stage-filter" class="p-3 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                <option value="all">All Groups</option>
                {% if bracket_data.groups %}
                    <optgroup label="Group Stage">
                        {% for group_data in bracket_data.groups %}
                            <option value="group-{{ group_data.group.name }}">Group {{ group_data.group.name }}</option>
                        {% endfor %}
                    </optgroup>
                {% endif %}
            </select>
        </div>
        {% endif %}
    </div>